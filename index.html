<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Investment Wrapped</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #020617 0, #020617 40%, #020617 100%);
      color: #e5e7eb;
    }
    .gradient-border {
      position: relative;
      border-radius: 1.5rem;
      padding: 1px;
      background: linear-gradient(135deg, rgba(59,130,246,0.7), rgba(236,72,153,0.7));
    }
    .gradient-border-inner {
      border-radius: 1.4rem;
      background: rgba(15,23,42,0.9);
      backdrop-filter: blur(10px);
    }
    .bg-grid {
      background-image: linear-gradient(
          rgba(148, 163, 184, 0.05) 1px,
          transparent 1px
        ),
        linear-gradient(
          90deg,
          rgba(148, 163, 184, 0.05) 1px,
          transparent 1px
        );
      background-size: 40px 40px;
    }
    .pill {
      border-radius: 9999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15,23,42,0.85);
      backdrop-filter: blur(10px);
    }
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body class="bg-slate-950 text-slate-100">
  <!-- é ‚éƒ¨å°è¦½ -->
  <header class="sticky top-0 z-30 bg-slate-950/70 backdrop-blur border-b border-slate-800/60">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="w-8 h-8 rounded-xl bg-gradient-to-tr from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center text-xs font-semibold">
          IW
        </div>
        <div class="text-sm text-slate-300">
          <span id="nav-title-year">2025</span> Investment Wrapped
        </div>
      </div>
      <nav class="hidden md:flex gap-4 text-xs text-slate-300">
        <a href="#overview" class="hover:text-blue-400 transition">ç¸½è¦½</a>
        <a href="#style" class="hover:text-blue-400 transition">æŠ•è³‡é¢¨æ ¼</a>
        <a href="#top-holdings" class="hover:text-blue-400 transition">MVP æŒè‚¡</a>
        <a href="#drama" class="hover:text-blue-400 transition">æˆ²åŠ‡æ€§æ™‚åˆ»</a>
        <a href="#outlook" class="hover:text-blue-400 transition">æ˜å¹´å±•æœ›</a>
      </nav>
    </div>
  </header>

  <!-- ä¸»å…§å®¹ -->
  <main class="max-w-6xl mx-auto px-4 pb-16 pt-10 space-y-16">
    <!-- Hero å€ -->
    <section id="hero" class="relative overflow-hidden rounded-3xl bg-grid border border-slate-800/70">
      <!-- æ¼¸å±¤å…‰æšˆ -->
      <div class="absolute -top-32 -left-10 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl pointer-events-none"></div>
      <div class="absolute -bottom-28 -right-10 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl pointer-events-none"></div>

      <div class="relative z-10 px-6 py-10 md:px-12 md:py-16 flex flex-col md:flex-row md:items-center gap-10">
        <div class="flex-1 space-y-6">
          <div class="pill inline-flex items-center gap-2 px-3 py-1 text-xs text-slate-300">
            <span class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
            <span>è‡ªå‹•ç”¢ç”Ÿçš„å¹´åº¦æŠ•è³‡å›é¡§</span>
          </div>
          <h1 class="text-4xl md:text-5xl font-semibold leading-tight">
            <span id="hero-year" class="text-blue-400">2025</span>
            <span class="block mt-1">
              <span id="hero-name">Your</span> Investment Wrapped
            </span>
          </h1>
          <p class="text-slate-300 text-sm md:text-base max-w-xl">
            å›é¡§éå»ä¸€å¹´ï¼Œä½ æŠ•å…¥çš„æ¯ä¸€ç­†è³‡é‡‘ã€æ‰¿å—çš„æ¯ä¸€æ®µæ³¢å‹•ï¼Œ
            éƒ½åœ¨å¡‘é€ ç¾åœ¨çš„ä½ ã€‚è®“æˆ‘å€‘ä¸€èµ·çœ‹çœ‹ï¼Œé€™ä¸€å¹´ä½ çš„è³‡ç”¢ï¼Œ
            æ˜¯å¦‚ä½•åœ¨ç´€å¾‹èˆ‡æ³¢å‹•ä¸­æˆé•·ã€‚
          </p>
          <div class="flex flex-wrap gap-3 text-xs text-slate-300">
            <div class="pill px-3 py-1">
              ğŸ“… <span id="hero-year-label">2025</span> å…¨å¹´åº¦çµ±è¨ˆ
            </div>
            <div class="pill px-3 py-1">
              ğŸ“Š è‡ªå‹•ç”Ÿæˆåœ–è¡¨
            </div>
            <div class="pill px-3 py-1">
              ğŸ§  è¡Œç‚ºé¢¨æ ¼æ´å¯Ÿ
            </div>
          </div>
          <button
            onclick="document.getElementById('overview').scrollIntoView({ behavior: 'smooth' });"
            class="mt-2 inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-sm font-medium shadow-lg shadow-blue-500/30 hover:shadow-purple-500/40 transition">
            é–‹å§‹æ¢ç´¢ä½ çš„é€™ä¸€å¹´
            <span>â†“</span>
          </button>
        </div>

        <div class="flex-1 flex justify-center md:justify-end">
          <div class="gradient-border w-full max-w-sm md:max-w-md">
            <div class="gradient-border-inner p-5 space-y-4">
              <p class="text-xs text-slate-400 uppercase tracking-wide">å¹´åº¦å¿«ç…§</p>
              <div class="grid grid-cols-2 gap-4 text-sm">
                <div>
                  <p class="text-slate-400 text-xs mb-1">æŠ•å…¥è³‡é‡‘</p>
                  <p id="stat-total-invested" class="text-lg font-semibold text-slate-50">
                    NTD -
                  </p>
                </div>
                <div>
                  <p class="text-slate-400 text-xs mb-1">æœŸæœ«è³‡ç”¢</p>
                  <p id="stat-total-value" class="text-lg font-semibold text-emerald-400">
                    NTD -
                  </p>
                </div>
                <div>
                  <p class="text-slate-400 text-xs mb-1">å ±é…¬ç‡</p>
                  <p id="stat-return-pct" class="text-lg font-semibold text-blue-400">
                    -
                  </p>
                </div>
                <div>
                  <p class="text-slate-400 text-xs mb-1">è³‡ç”¢æˆé•·</p>
                  <p id="stat-growth-amount" class="text-lg font-semibold text-pink-400">
                    NTD -
                  </p>
                </div>
              </div>
              <p class="text-xs text-slate-400">
                çµ±è¨ˆæœŸé–“ï¼šæ•´å€‹å¹´åº¦ï¼ŒåŒ…å«æ‰€æœ‰å¸³æˆ¶èˆ‡æŒè‚¡ã€‚
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- å¹´åº¦ç¸½è¦½ -->
    <section id="overview" class="space-y-6">
      <div class="flex items-center justify-between gap-3">
        <h2 class="text-xl font-semibold">å¹´åº¦ç¸½è¦½</h2>
        <p class="text-xs text-slate-400">
          å…ˆå¾æ•´é«”è¡¨ç¾é–‹å§‹ï¼Œçœ‹è¦‹ä½ é€™ä¸€å¹´çš„æŠ•è³‡è»Œè·¡ã€‚
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-5">
        <div class="gradient-border">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">ä½ å‡ºæ‰‹çš„ä»½é‡</p>
            <p class="text-2xl font-semibold" id="card-total-invested">NTD -</p>
            <p class="text-xs text-slate-400">
              å…¨å¹´åº¦ç´¯ç©æŠ•å…¥é‡‘é¡ï¼ŒåŒ…å«å®šæœŸå®šé¡èˆ‡å–®ç­†åŠ ç¢¼ã€‚
            </p>
          </div>
        </div>
        <div class="gradient-border">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">è³‡ç”¢æˆé•·</p>
            <p class="text-2xl font-semibold">
              <span id="card-growth-amount">NTD -</span>
            </p>
            <p class="text-xs text-slate-400">
              ç›¸è¼ƒå¹´åˆï¼Œä½ è®“è³‡ç”¢å¢åŠ äº†é€™å€‹æ•¸å­—ã€‚
            </p>
          </div>
        </div>
        <div class="gradient-border">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">ä½ çœ‹ç›¤çš„æ¬¡æ•¸</p>
            <p class="text-2xl font-semibold" id="card-check-count">- æ¬¡</p>
            <p class="text-xs text-slate-400">
              ä»£è¡¨ä½ ç‚ºé€™äº›æ±ºç­–èŠ±äº†å¤šå°‘æ³¨æ„åŠ›ã€‚
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- æŠ•è³‡é¢¨æ ¼ -->
    <section id="style" class="space-y-6">
      <div class="flex items-center justify-between gap-3">
        <h2 class="text-xl font-semibold">ä½ çš„æŠ•è³‡é¢¨æ ¼</h2>
        <p class="text-xs text-slate-400">
          è®“æ•¸æ“šå‘Šè¨´ä½ ï¼Œä½ æ˜¯å“ªä¸€ç¨®æŠ•è³‡äººæ ¼ã€‚
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div class="gradient-border">
          <div class="gradient-border-inner p-5 space-y-4">
            <p class="text-xs text-slate-400">è³‡ç”¢é…ç½®</p>
            <canvas id="chart-allocation" class="w-full h-64"></canvas>
          </div>
        </div>

        <div class="gradient-border">
          <div class="gradient-border-inner p-5 space-y-4">
            <p class="text-xs text-slate-400">é¢¨æ ¼æ¨™ç±¤</p>
            <div class="space-y-2 text-sm">
              <p>
                æŠ•è³‡äººæ ¼ï¼š
                <span id="style-personality" class="font-semibold text-blue-400">
                  -
                </span>
              </p>
              <p id="style-tagline" class="text-slate-300 text-sm leading-relaxed">
                -
              </p>
            </div>
            <div class="grid grid-cols-2 gap-3 text-xs mt-3">
              <div class="pill px-3 py-2">
                ğŸ‡ºğŸ‡¸ ç¾è‚¡æ¯”é‡ï¼š
                <span id="style-us-pct" class="font-semibold text-emerald-400"></span>
              </div>
              <div class="pill px-3 py-2">
                ğŸ‡¹ğŸ‡¼ å°è‚¡æ¯”é‡ï¼š
                <span id="style-tw-pct" class="font-semibold text-emerald-400"></span>
              </div>
              <div class="pill px-3 py-2">
                ğŸ’» ç§‘æŠ€é¡è‚¡ï¼š
                <span id="style-tech-pct" class="font-semibold text-emerald-400"></span>
              </div>
              <div class="pill px-3 py-2">
                ğŸ¦ é‡‘èç›¸é—œï¼š
                <span id="style-finance-pct" class="font-semibold text-emerald-400"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MVP æŒè‚¡ -->
    <section id="top-holdings" class="space-y-6">
      <div class="flex items-center justify-between gap-3">
        <h2 class="text-xl font-semibold">ä½ çš„ MVP æŒè‚¡</h2>
        <p class="text-xs text-slate-400">
          èª°åœ¨èƒŒå¾Œæ’èµ·ä½ çš„å ±é…¬ï¼Œèª°åˆè®“ä½ å­¸åˆ°æœ€æ·±åˆ»çš„ä¸€èª²ã€‚
        </p>
      </div>

      <div class="grid lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2 gradient-border">
          <div class="gradient-border-inner p-5 space-y-4 overflow-x-auto">
            <p class="text-xs text-slate-400 mb-1">å‰äº”å¤§æŒè‚¡</p>
            <table class="min-w-full text-xs text-left border-collapse">
              <thead class="border-b border-slate-700 text-slate-400">
                <tr>
                  <th class="py-2 pr-4">æ¨™çš„</th>
                  <th class="py-2 pr-4">åç¨±</th>
                  <th class="py-2 pr-4 text-right">æ¯”é‡</th>
                  <th class="py-2 pr-4 text-right">å ±é…¬ç‡</th>
                  <th class="py-2 pr-0 text-right">è²¢ç»é‡‘é¡</th>
                </tr>
              </thead>
              <tbody id="top-holdings-body"></tbody>
            </table>
          </div>
        </div>

        <div class="gradient-border">
          <div class="gradient-border-inner p-5 space-y-4">
            <p class="text-xs text-slate-400">å ±é…¬è²¢ç»</p>
            <canvas id="chart-contribution" class="w-full h-64"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- æˆ²åŠ‡æ€§æ™‚åˆ» -->
    <section id="drama" class="space-y-6">
      <div class="flex items-center justify-between gap-3">
        <h2 class="text-xl font-semibold">é€™ä¸€å¹´æœ€æˆ²åŠ‡æ€§çš„æ™‚åˆ»</h2>
        <p class="text-xs text-slate-400">
          æ³¢å‹•ä¸æ˜¯æ•µäººï¼Œå®ƒåªæ˜¯åœ¨æé†’ä½ ï¼šä½ æ­£åœ¨å¸‚å ´è£¡ã€‚
        </p>
      </div>

      <div class="grid md:grid-cols-4 gap-5">
        <div class="gradient-border md:col-span-2">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">æœ€å¤§å–®æ—¥ç²åˆ©</p>
            <p id="drama-max-pl" class="text-2xl font-semibold text-emerald-400">
              NTD -
            </p>
            <p class="text-xs text-slate-400">
              é€™ä¸€å¤©ï¼Œä½ çš„æ±ºç­–èˆ‡å¸‚å ´ç«™åœ¨åŒä¸€é‚Šã€‚
            </p>
          </div>
        </div>
        <div class="gradient-border md:col-span-2">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">æœ€å¤§å–®æ—¥å›å</p>
            <p id="drama-min-pl" class="text-2xl font-semibold text-rose-400">
              NTD -
            </p>
            <p class="text-xs text-slate-400">
              è€Œé€™ä¸€å¤©ï¼Œå‰‡æé†’ä½ ï¼šé¢¨éšªç®¡ç†æ°¸é å€¼å¾—è¢«é‡è¦–ã€‚
            </p>
          </div>
        </div>
        <div class="gradient-border">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">æœ€å¤§å›æ’¤</p>
            <p id="drama-drawdown" class="text-2xl font-semibold text-amber-300">
              -
            </p>
            <p class="text-xs text-slate-400">
              é€™æ˜¯ä½ åœ¨é€™ä¸€å¹´èƒ½æ‰¿å—çš„æœ€å¤§æ³¢å‹•ã€‚
            </p>
          </div>
        </div>
        <div class="gradient-border md:col-span-2">
          <div class="gradient-border-inner p-4 space-y-2">
            <p class="text-xs text-slate-400">ä½ æœ€å¸¸æŸ¥çœ‹çš„æ¨™çš„</p>
            <p class="text-lg font-semibold">
              <span id="drama-most-checked-ticker" class="text-blue-400">-</span>
              <span class="text-sm text-slate-400">ï¼ˆæŸ¥çœ‹ <span id="drama-most-checked-times">-</span> æ¬¡ï¼‰</span>
            </p>
            <p class="text-xs text-slate-400">
              é¡¯ç„¶ï¼Œå®ƒåœ¨ä½ çš„æŠ•è³‡æ—…ç¨‹è£¡ä½”æ“šäº†ä¸å°‘å¿ƒæ€ã€‚
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- æ˜å¹´å±•æœ› -->
    <section id="outlook" class="space-y-6">
      <div class="flex items-center justify-between gap-3">
        <h2 class="text-xl font-semibold">ä¸‹ä¸€æ­¥ï¼Œå¾€å“ªè£¡èµ°ï¼Ÿ</h2>
        <p class="text-xs text-slate-400">
          ç”¨é€™ä¸€å¹´çš„æ•¸æ“šï¼Œæ›¿æœªä¾†çš„è‡ªå·±ç•™ä¸‹ä¸€äº›æé†’ã€‚
        </p>
      </div>

      <div class="gradient-border">
        <div class="gradient-border-inner p-6 space-y-4">
          <p class="text-xs text-slate-400 mb-1">æ˜å¹´çš„å°ˆæ³¨æ–¹å‘</p>
          <ul id="outlook-focus" class="list-disc pl-5 space-y-2 text-sm text-slate-200">
          </ul>
          <p class="text-xs text-slate-400 mt-4">çµ¦æœªä¾†è‡ªå·±çš„è©±ï¼š</p>
          <p id="outlook-motto" class="text-sm font-medium text-emerald-300">
            -
          </p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="pt-6 border-t border-slate-800/60 text-xs text-slate-500 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <div>
        Generated by <span class="text-slate-300 font-medium">Investment Wrapped Engine</span>
      </div>
      <div>
        <span id="footer-year">2025</span> Â· Crafted for
        <span id="footer-name" class="text-slate-300">you</span>
      </div>
    </footer>
  </main>

  <script>
    let allocationChart = null;
    let contributionChart = null;

    const demoData = {
      year: 2025,
      investorName: "ChengEn",
      total_invested: 320000,
      total_value_end: 361500,
      total_return_pct: 12.97,
      growth_amount: 41500,
      check_count: 186,
      style: {
        equity_pct: 84,
        bond_pct: 8,
        cash_pct: 8,
        us_pct: 72,
        tw_pct: 18,
        other_pct: 10,
        tech_pct: 58,
        finance_pct: 12,
        other_sector_pct: 30,
        personality: "ç©©å¥å‹ ISTJ",
        tagline:
          "ä½ åå¥½å…·å‚™å¼·åŸºæœ¬é¢èˆ‡ç”¢æ¥­é¾é ­çš„æ¨™çš„ï¼Œå°æ³¢å‹•æœ‰ç´€å¾‹ä½†ä¸ç›²ç›®è¿½é«˜ã€‚"
      },
      top_holdings: [
        {
          ticker: "NVDA",
          name: "NVIDIA",
          weight_pct: 22,
          return_pct: 55,
          contribution: 32000
        },
        {
          ticker: "TSLA",
          name: "Tesla",
          weight_pct: 8,
          return_pct: -12,
          contribution: -4000
        },
        {
          ticker: "QQQM",
          name: "QQQM",
          weight_pct: 18,
          return_pct: 18,
          contribution: 6000
        },
        {
          ticker: "VTI",
          name: "Vanguard Total Market",
          weight_pct: 15,
          return_pct: 10,
          contribution: 4500
        },
        {
          ticker: "BND",
          name: "Vanguard Total Bond",
          weight_pct: 10,
          return_pct: 3,
          contribution: 900
        }
      ],
      drama: {
        max_daily_pl: 8700,
        min_daily_pl: -9200,
        max_drawdown_pct: -14.2,
        most_checked_ticker: "NVDA",
        most_checked_times: 37
      },
      outlook: {
        focus_areas: [
          "å»ºç«‹å›ºå®šçš„å†å¹³è¡¡æ©Ÿåˆ¶ï¼ˆä¾‹å¦‚æ¯å­£æˆ–åŠå¹´æª¢æŸ¥ä¸€æ¬¡é…ç½®ï¼‰",
          "å¼·åŒ–é¢¨éšªèˆ‡éƒ¨ä½ç®¡ç†ï¼Œé¿å…å–®ä¸€æ¨™çš„æ¯”é‡éé«˜",
          "ä¿ç•™éƒ¨åˆ†ç¾é‡‘éƒ¨ä½æ‡‰å°ç³»çµ±æ€§å›èª¿"
        ],
        motto: "2026, let your discipline compound."
      }
    };

    async function loadRecapData() {
      try {
        const res = await fetch("recap.json", { cache: "no-cache" });
        if (!res.ok) throw new Error("no recap.json");
        const json = await res.json();
        return json;
      } catch (e) {
        console.warn("ä½¿ç”¨ demo è³‡æ–™ï¼ˆæ‰¾ä¸åˆ° recap.jsonï¼‰", e);
        return demoData;
      }
    }

    function formatCurrency(n) {
      if (n == null || isNaN(n)) return "NTD -";
      return "NTD " + n.toLocaleString("en-US", { maximumFractionDigits: 0 });
    }

    function formatPct(n, digits = 2) {
      if (n == null || isNaN(n)) return "-";
      return n.toFixed(digits) + "%";
    }

    function updateText(data) {
      const y = data.year || new Date().getFullYear();
      const name = data.investorName || "you";

      // Hero & Nav & Footer
      document.getElementById("hero-year").textContent = y;
      document.getElementById("hero-year-label").textContent = y;
      document.getElementById("nav-title-year").textContent = y;
      document.getElementById("hero-name").textContent = name;
      document.getElementById("footer-year").textContent = y;
      document.getElementById("footer-name").textContent = name;

      // Stats
      const invested = data.total_invested;
      const valueEnd = data.total_value_end;
      const growth = data.growth_amount;
      const retPct = data.total_return_pct;
      const checkCount = data.check_count;

      document.getElementById("stat-total-invested").textContent =
        formatCurrency(invested);
      document.getElementById("stat-total-value").textContent =
        formatCurrency(valueEnd);
      document.getElementById("stat-growth-amount").textContent =
        formatCurrency(growth);
      document.getElementById("stat-return-pct").textContent =
        formatPct(retPct, 2);

      document.getElementById("card-total-invested").textContent =
        formatCurrency(invested);
      document.getElementById("card-growth-amount").textContent =
        formatCurrency(growth);
      document.getElementById("card-check-count").textContent =
        (checkCount ?? "-") + (checkCount != null ? " æ¬¡" : "");
    }

    function updateStyle(data) {
      const s = data.style || {};
      document.getElementById("style-personality").textContent =
        s.personality || "-";
      document.getElementById("style-tagline").textContent =
        s.tagline || "é€™ä¸€å¹´ï¼Œä½ ç”¨è‡ªå·±çš„æ–¹å¼èˆ‡å¸‚å ´ç›¸è™•è‘—ã€‚";

      document.getElementById("style-us-pct").textContent =
        formatPct(s.us_pct ?? 0);
      document.getElementById("style-tw-pct").textContent =
        formatPct(s.tw_pct ?? 0);
      document.getElementById("style-tech-pct").textContent =
        formatPct(s.tech_pct ?? 0);
      document.getElementById("style-finance-pct").textContent =
        formatPct(s.finance_pct ?? 0);

      const eq = s.equity_pct ?? 0;
      const bond = s.bond_pct ?? 0;
      const cash = s.cash_pct ?? 0;

      const ctx = document.getElementById("chart-allocation").getContext("2d");
      if (allocationChart) allocationChart.destroy();
      allocationChart = new Chart(ctx, {
        type: "doughnut",
        data: {
          labels: ["è‚¡ç¥¨", "å‚µåˆ¸", "ç¾é‡‘"],
          datasets: [
            {
              data: [eq, bond, cash],
            }
          ]
        },
        options: {
          plugins: {
            legend: {
              labels: { color: "#cbd5f5", f
